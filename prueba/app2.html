<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Neon Tic Tac Toe</title>
<style>
body {
  margin:0;
  background:#0b0b18;
  font-family:Inter,sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
  color:#fff;
}
h1 {
  text-shadow:0 0 15px #ff00ff;
}
#board {
  display:grid;
  grid-template-columns:repeat(3,120px);
  grid-template-rows:repeat(3,120px);
  gap:5px;
  margin-top:20px;
}
.cell {
  width:120px;
  height:120px;
  background:#0a0a18;
  border:2px solid #ff00ff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:3rem;
  cursor:pointer;
  transition:0.2s;
  box-shadow:0 0 10px #ff00ff;
}
.cell:hover {
  box-shadow:0 0 20px #ff00ff;
  transform:scale(1.05);
}
#message {
  margin-top:20px;
  font-size:1.5rem;
  text-shadow:0 0 10px #ff00ff;
}
button {
  margin-top:10px;
  padding:0.5rem 1rem;
  font-size:1rem;
  border:none;
  border-radius:8px;
  background:rgba(255,0,255,0.2);
  color:#ff00ff;
  cursor:pointer;
  text-shadow:0 0 8px #ff00ff;
  transition:0.2s;
}
button:hover { background:rgba(255,0,255,0.4); transform:scale(1.05);}
</style>
</head>
<body>

<h1>Neon Tic Tac Toe</h1>
<div id="board"></div>
<div id="message"></div>
<button id="restartBtn">Reiniciar Juego</button>

<script>
const boardEl=document.getElementById('board');
const message=document.getElementById('message');
const restartBtn=document.getElementById('restartBtn');

let board=['','','','','','','','',''];
let human='X';
let ai='O';
let gameOver=false;

// Crear tablero
function createBoard(){
  boardEl.innerHTML='';
  for(let i=0;i<9;i++){
    const cell=document.createElement('div');
    cell.classList.add('cell');
    cell.dataset.index=i;
    cell.addEventListener('click',()=>playerMove(i));
    boardEl.appendChild(cell);
  }
}
createBoard();

// Función del jugador
function playerMove(i){
  if(board[i]!==''||gameOver) return;
  board[i]=human;
  updateBoard();
  if(checkWinner(board,human)){
    message.textContent='¡Ganaste!';
    gameOver=true;
    return;
  }
  if(boardFull()) {message.textContent='Empate'; gameOver=true; return;}
  setTimeout(aiMove,300);
}

// IA simple con minimax
function aiMove(){
  let bestScore=-Infinity;
  let move;
  for(let i=0;i<9;i++){
    if(board[i]===''){
      board[i]=ai;
      let score=minimax(board,0,false);
      board[i]='';
      if(score>bestScore){bestScore=score; move=i;}
    }
  }
  board[move]=ai;
  updateBoard();
  if(checkWinner(board,ai)){
    message.textContent='¡IA gana!';
    gameOver=true;
    return;
  }
  if(boardFull()){message.textContent='Empate'; gameOver=true;}
}

function minimax(newBoard,depth,isMaximizing){
  if(checkWinner(newBoard,ai)) return 10-depth;
  if(checkWinner(newBoard,human)) return depth-10;
  if(newBoard.every(cell=>cell!=='') ) return 0;

  if(isMaximizing){
    let bestScore=-Infinity;
    for(let i=0;i<9;i++){
      if(newBoard[i]===''){
        newBoard[i]=ai;
        let score=minimax(newBoard,depth+1,false);
        newBoard[i]='';
        bestScore=Math.max(score,bestScore);
      }
    }
    return bestScore;
  }else{
    let bestScore=Infinity;
    for(let i=0;i<9;i++){
      if(newBoard[i]===''){
        newBoard[i]=human;
        let score=minimax(newBoard,depth+1,true);
        newBoard[i]='';
        bestScore=Math.min(score,bestScore);
      }
    }
    return bestScore;
  }
}

// Actualizar visual
function updateBoard(){
  const cells=document.querySelectorAll('.cell');
  cells.forEach((cell,i)=>cell.textContent=board[i]);
}

// Comprobar ganador
function checkWinner(b,player){
  const winCombos=[
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];
  return winCombos.some(combo=>combo.every(i=>b[i]===player));
}

function boardFull(){ return board.every(cell=>cell!==''); }

restartBtn.addEventListener('click',()=>{
  board=['','','','','','','','',''];
  gameOver=false;
  message.textContent='';
  updateBoard();
});

</script>

</body>
</html>

