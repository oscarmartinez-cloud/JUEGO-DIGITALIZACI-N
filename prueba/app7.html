<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Decisiones sobre Rieles â€” Nivel Pro</title>
<style>
body {
  margin:0; font-family:'Segoe UI', sans-serif; background:#f0f0f3; display:flex; flex-direction:column; align-items:center; overflow-x:hidden;
}
h1 {
  margin:20px 0 10px 0; color:#2c3e50; text-shadow:1px 1px 3px #aaa; text-align:center;
}
#score, #ethics {
  font-size:1.2rem; margin:4px 0; font-weight:600; color:#1d4ed8;
}
#game-area {
  position:relative; width:95%; max-width:1000px; height:550px; background:#fff; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.2); display:flex; flex-direction:column; align-items:center; justify-content:flex-end; overflow:hidden;
}
#board {
  position:relative; width:100%; height:400px; display:flex; justify-content:space-between; align-items:flex-end; padding:0 50px; overflow:hidden;
}
.track {
  position:absolute; bottom:0; height:12px; width:100%; background:#cbd5e1; border-radius:6px;
}
#train {
  position:absolute; bottom:16px; width:60px; height:60px; border-radius:50%; background:#2563eb; display:flex; align-items:center; justify-content:center; font-size:2rem; color:#fff; box-shadow:0 5px 25px rgba(0,0,0,0.3); transition:left 1.5s ease-in-out;
}
.smoke {
  position:absolute; width:20px; height:20px; background:rgba(200,200,200,0.6); border-radius:50%; animation:smokeRise 1s ease-out forwards;
}
@keyframes smokeRise {
  0% { transform: translate(0,0) scale(1); opacity:0.7; }
  100% { transform: translate(-10px,-60px) scale(1.5); opacity:0; }
}
.choice-container {
  position:absolute; top:50px; width:100%; display:flex; justify-content:space-around; perspective:800px;
}
.choice {
  width:220px; height:140px; background:#fff; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.15); display:flex; justify-content:center; align-items:center; text-align:center; font-size:1.1rem; cursor:pointer; transition:transform 0.6s, box-shadow 0.3s, background 0.3s; transform-style:preserve-3d;
}
.choice:hover { transform: rotateY(10deg) scale(1.05); box-shadow:0 10px 25px rgba(0,0,0,0.25); background:#e0f2fe; }
.choice.flipped { transform: rotateY(180deg) scale(1.05); background:#dbeafe; }
#lever {
  width:140px; height:140px; border-radius:50%; background:#e0e7ff; display:flex; align-items:center; justify-content:center; margin-top:20px; box-shadow:0 5px 20px rgba(0,0,0,0.25); position:relative;
}
#handle {
  width:8px; height:70px; background:#3b82f6; position:absolute; bottom:50%; left:50%; transform-origin:bottom center; border-radius:4px; transition:transform 0.5s ease;
}
#log {
  margin-top:20px; width:95%; max-width:1000px; height:150px; background:#fff; border-radius:12px; overflow-y:auto; padding:12px; box-shadow:0 5px 15px rgba(0,0,0,0.15); font-size:14px;
}
</style>
</head>
<body>
<h1>Decisiones sobre Rieles â€” Nivel Pro</h1>
<div id="score">Rondas: 0</div>
<div id="ethics">Ã‰tica: 0</div>

<div id="game-area">
  <div id="board">
    <div class="track"></div>
    <div id="train">ðŸš‚</div>
    <div class="choice-container">
      <div id="leftChoice" class="choice"></div>
      <div id="rightChoice" class="choice"></div>
    </div>
  </div>
  <div id="lever">
    <div id="handle"></div>
  </div>
</div>

<div id="log"></div>

<script>
const train = document.getElementById("train");
const leftChoice = document.getElementById("leftChoice");
const rightChoice = document.getElementById("rightChoice");
const handle = document.getElementById("handle");
const scoreDisplay = document.getElementById("score");
const ethicsDisplay = document.getElementById("ethics");
const logEl = document.getElementById("log");

let score = 0;
let ethics = 0;
let trainMoving = false;

const decisions = [
"Salvar a tu perro ðŸ¶","Salvar a un desconocido ðŸ‘¤","Salvar a tu mejor amigo ðŸ’›","Salvar a tu jefe ðŸ’¼",
"Salvar una planta ðŸŒ±","Salvar un gato ðŸ±","Salvar a un cientÃ­fico ðŸ§¬","Salvar a un artista ðŸŽ¨",
"Salvar a un anciano ðŸ‘´","Salvar a un niÃ±o ðŸ‘¦","Salvar una IA ðŸ¤–","Salvar a un humano ðŸ§",
"Salvar una biblioteca ðŸ“š","Salvar un bosque ðŸŒ²","Salvar un satÃ©lite ðŸ›°ï¸","Salvar una ciudad ðŸŒ†",
"Salvar a tu pareja ðŸ’•","Salvar tu reputaciÃ³n ðŸ§ ","Salvar el planeta ðŸŒ","Salvar una mascota ðŸ•",
"Salvar un polÃ­tico ðŸ—³ï¸","Salvar un hÃ©roe ðŸ¦¸","Salvar un servidor ðŸ’»","Salvar una base lunar ðŸŒ•",
"Salvar a tu clon ðŸ§¬","Salvar a tu profesor ðŸ“š","Salvar a tu enemigo ðŸ˜ˆ","Salvar a tu madre ðŸ‘©",
"Salvar a tu padre ðŸ‘¨","Salvar una reliquia ðŸ”®","Salvar un robot defectuoso ðŸ¤–","Salvar una obra maestra ðŸ–¼ï¸",
"Salvar tu pasado ðŸ•°ï¸","Salvar tu futuro ðŸš€","Salvar un grupo de extraÃ±os ðŸ‘¥","Salvar un amigo de infancia ðŸ§’",
"Salvar una civilizaciÃ³n ðŸ‘½","Salvar un universo paralelo ðŸŒŒ","Salvar un recuerdo ðŸ’­","Salvar una canciÃ³n ðŸŽ¶"
];

function spawnSmoke(){
  const s = document.createElement("div");
  s.className="smoke";
  s.style.left=train.offsetLeft+20+"px";
  s.style.bottom="50px";
  train.parentElement.appendChild(s);
  setTimeout(()=>s.remove(),1000);
}

function newRound(){
  const left = decisions[Math.floor(Math.random()*decisions.length)];
  let right;
  do{ right = decisions[Math.floor(Math.random()*decisions.length)]; } while(right===left);
  
  leftChoice.textContent = left;
  rightChoice.textContent = right;
  
  leftChoice.classList.add("flipped");
  rightChoice.classList.add("flipped");
  setTimeout(()=>{
    leftChoice.classList.remove("flipped");
    rightChoice.classList.remove("flipped");
  },400);
  
  train.style.left = "10%";
  handle.style.transform="rotate(0deg)";
  trainMoving=false;
}

function moveTrain(direction){
  if(trainMoving) return;
  trainMoving=true;
  handle.style.transform = direction==='left' ? "rotate(-50deg)" : "rotate(50deg)";
  train.style.transition="all 1.5s ease-in-out";
  train.style.left = direction==='left' ? "20%" : "70%";
  spawnSmoke();
  setTimeout(()=>{
    score++;
    ethics += direction==='left'?1:-1; // ejemplo: izquierda mÃ¡s Ã©tica
    scoreDisplay.textContent = `Rondas: ${score}`;
    ethicsDisplay.textContent = `Ã‰tica: ${ethics}`;
    logEl.innerHTML = `<b>Ronda ${score}:</b> Elegiste ${direction==='left'?leftChoice.textContent:rightChoice.textContent}` + "<br>" + logEl.innerHTML;
    newRound();
  },1600);
}

leftChoice.addEventListener('click',()=>moveTrain('left'));
rightChoice.addEventListener('click',()=>moveTrain('right'));
document.addEventListener('keydown', e=>{
  if(e.key==="ArrowLeft") moveTrain('left');
  if(e.key==="ArrowRight") moveTrain('right');
});

newRound();
</script>
</body>
</html>
