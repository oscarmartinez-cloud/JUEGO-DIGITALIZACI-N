<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Neon Draw Pad PRO</title>
<style>
body {
  margin:0;
  font-family:Inter,sans-serif;
  background:#0b0b18;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:1rem;
  color:#fff;
}
#mainArea {
  display:flex;
  gap:2rem;
}
#referenceCanvas, #drawCanvas {
  border:3px solid #ff00ff;
  box-shadow:0 0 25px #ff00ff;
  background:#0a0a18;
}
#toolbar {
  display:flex;
  gap:1rem;
  flex-wrap:wrap;
  background:rgba(0,0,0,0.3);
  padding:0.5rem;
  border-radius:10px;
}
button, input[type=range], input[type=color], select {
  background:rgba(255,0,255,0.2);
  color:#ff00ff;
  border:none;
  padding:0.5rem 1rem;
  border-radius:8px;
  cursor:pointer;
  text-shadow:0 0 8px #ff00ff;
  transition:0.2s;
}
button:hover, input[type=range]:hover, input[type=color]:hover, select:hover { background:rgba(255,0,255,0.4);}
#gallery {
  display:flex;
  gap:1rem;
  flex-wrap:wrap;
  max-width:95%;
  padding:0.5rem;
  border:2px solid #ff00ff;
  box-shadow:0 0 20px #ff00ff;
  background:#0a0a18;
  border-radius:12px;
}
#gallery img {
  width:60px;
  height:60px;
  object-fit:contain;
  border:2px solid #ff00ff;
  border-radius:8px;
  cursor:pointer;
  transition:0.2s;
}
#gallery img:hover { transform:scale(1.2); box-shadow:0 0 15px #ff00ff; }
</style>
</head>
<body>

<div id="toolbar">
  <button id="clearBtn">Limpiar</button>
  <label>Color: <input type="color" id="colorPicker" value="#ff00ff"></label>
  <label>Tamaño: <input type="range" id="sizePicker" min="1" max="50" value="5"></label>
  <select id="toolSelect">
    <option value="pencil">Lápiz</option>
    <option value="spray">Spray</option>
    <option value="glow">Fosfo</option>
    <option value="fill">Cubo</option>
  </select>
  <button id="newDrawingBtn">Nuevo Dibujo</button>
  <input type="file" id="uploadImage" accept="image/*" multiple>
</div>

<div id="mainArea">
  <canvas id="referenceCanvas" width="300" height="300"></canvas>
  <canvas id="drawCanvas" width="600" height="600"></canvas>
</div>

<div id="gallery"></div>

<script>
const refCanvas = document.getElementById('referenceCanvas');
const refCtx = refCanvas.getContext('2d');

const drawCanvas = document.getElementById('drawCanvas');
const drawCtx = drawCanvas.getContext('2d');

let drawing=false;
let color=document.getElementById('colorPicker').value;
let size=document.getElementById('sizePicker').value;
let tool=document.getElementById('toolSelect').value;

// Dibujos de referencia iniciales
let figures=[
  'Sol','Árbol','Casa','Coche','Gato','Flor','Estrella','Barco','Luna','Montaña'
];
let currentFigure='';

// Galería de imágenes
const gallery=document.getElementById('gallery');

function generateReference(){
  refCtx.clearRect(0,0,refCanvas.width,refCanvas.height);
  const index=Math.floor(Math.random()*figures.length);
  currentFigure=figures[index];

  const cx=refCanvas.width/2;
  const cy=refCanvas.height/2;
  const s=80;

  refCtx.strokeStyle='#ff00ff';
  refCtx.lineWidth=3;
  refCtx.shadowColor='#ff00ff';
  refCtx.shadowBlur=15;

  refCtx.beginPath();
  switch(currentFigure){
    case 'Sol':
      refCtx.arc(cx,cy,s/2,0,Math.PI*2);
      for(let i=0;i<12;i++){
        const angle=i*Math.PI/6;
        refCtx.moveTo(cx,cy);
        refCtx.lineTo(cx+Math.cos(angle)*s,cy+Math.sin(angle)*s);
      }
      break;
    case 'Árbol':
      refCtx.moveTo(cx,cy+s/2); refCtx.lineTo(cx,cy-s/2);
      refCtx.moveTo(cx,cy-s/2); refCtx.lineTo(cx-s/3,cy-s/6);
      refCtx.moveTo(cx,cy-s/2); refCtx.lineTo(cx+s/3,cy-s/6);
      break;
    case 'Casa':
      refCtx.rect(cx-s/2,cy-s/2,s,s/1.5);
      refCtx.moveTo(cx-s/2,cy-s/2); refCtx.lineTo(cx,cy-s);
      refCtx.lineTo(cx+s/2,cy-s/2);
      break;
    case 'Coche':
      refCtx.rect(cx-s/2,cy,s,30);
      refCtx.arc(cx-s/3,cy+30,10,0,Math.PI*2);
      refCtx.arc(cx+s/3,cy+30,10,0,Math.PI*2);
      break;
    case 'Gato':
      refCtx.moveTo(cx-20,cy); refCtx.lineTo(cx,cy-40); refCtx.lineTo(cx+20,cy);
      refCtx.moveTo(cx-10,cy-10); refCtx.arc(cx-5,cy-15,5,0,Math.PI*2);
      refCtx.moveTo(cx+5,cy-15); refCtx.arc(cx+5,cy-15,5,0,Math.PI*2);
      break;
    case 'Flor':
      for(let i=0;i<5;i++){
        const angle=i*2*Math.PI/5;
        refCtx.moveTo(cx,cy);
        refCtx.lineTo(cx+Math.cos(angle)*s/2,cy+Math.sin(angle)*s/2);
      }
      break;
    case 'Estrella':
      refCtx.moveTo(cx,cy-s/2);
      for(let i=1;i<=5;i++){
        const angle=i*4*Math.PI/5;
        refCtx.lineTo(cx+Math.sin(angle)*s/2,cy-Math.cos(angle)*s/2);
      }
      break;
    case 'Barco':
      refCtx.moveTo(cx-s/2,cy+s/4); refCtx.lineTo(cx+s/2,cy+s/4);
      refCtx.lineTo(cx,cy-s/4); refCtx.closePath();
      break;
    case 'Luna':
      refCtx.arc(cx,cy,s/2,Math.PI/4,Math.PI*7/4);
      refCtx.arc(cx+s/5,cy,s/2,true);
      break;
    case 'Montaña':
      refCtx.moveTo(cx-s/2,cy+s/4); refCtx.lineTo(cx,cy-s/2); refCtx.lineTo(cx+s/2,cy+s/4);
      break;
    default:
      break;
  }
  refCtx.stroke();
}

// Función de dibujo
function draw(e){
  const rect=drawCanvas.getBoundingClientRect();
  const x=e.clientX-rect.left;
  const y=e.clientY-rect.top;

  if(tool==='fill'){
    drawCtx.fillStyle=color;
    drawCtx.fillRect(0,0,drawCanvas.width,drawCanvas.height);
    return;
  }

  if(!drawing) return;

  drawCtx.lineCap='round';
  drawCtx.lineWidth=size;
  drawCtx.strokeStyle=color;
  drawCtx.fillStyle=color;
  drawCtx.shadowColor=color;
  drawCtx.shadowBlur=(tool==='glow')?15:0;

  switch(tool){
    case 'pencil':
      drawCtx.lineTo(x,y);
      drawCtx.stroke();
      drawCtx.beginPath();
      drawCtx.moveTo(x,y);
      break;
    case 'spray':
      for(let i=0;i<20;i++){
        const offsetX=Math.random()*size*2-size;
        const offsetY=Math.random()*size*2-size;
        drawCtx.fillRect(x+offsetX,y+offsetY,1,1);
      }
      break;
    case 'glow':
      drawCtx.lineTo(x,y);
      drawCtx.stroke();
      drawCtx.beginPath();
      drawCtx.moveTo(x,y);
      break;
  }
}

// Eventos
drawCanvas.addEventListener('mousedown', e=>{drawing=true; draw(e);});
drawCanvas.addEventListener('mouseup', e=>{drawing=false; drawCtx.beginPath();});
drawCanvas.addEventListener('mouseout', e=>{drawing=false; drawCtx.beginPath();});
drawCanvas.addEventListener('mousemove', draw);

// Toolbar eventos
document.getElementById('clearBtn').addEventListener('click',()=>drawCtx.clearRect(0,0,drawCanvas.width,drawCanvas.height));
document.getElementById('colorPicker').addEventListener('change', e=>{color=e.target.value;});
document.getElementById('sizePicker').addEventListener('change', e=>{size=e.target.value;});
document.getElementById('toolSelect').addEventListener('change', e=>{tool=e.target.value;});
document.getElementById('newDrawingBtn').addEventListener('click',()=>{
  drawCtx.clearRect(0,0,drawCanvas.width,drawCanvas.height);
  generateReference();
});

// Subir imágenes adicionales
document.getElementById('uploadImage').addEventListener('change', e=>{
  const files=e.target.files;
  for(const file of files){
    const img=document.createElement('img');
    img.src=URL.createObjectURL(file);
    img.addEventListener('click', ()=>{
      refCtx.clearRect(0,0,refCanvas.width,refCanvas.height);
      const image=new Image();
      image.src=img.src;
      image.onload=()=>{refCtx.drawImage(image,0,0,refCanvas.width,refCanvas.height);}
    });
    gallery.appendChild(img);
  }
});

// Inicializar
generateReference();
</script>

</body>
</html>







